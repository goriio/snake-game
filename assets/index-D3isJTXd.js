(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const h of o.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function e(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(i){if(i.ep)return;i.ep=!0;const o=e(i);fetch(i.href,o)}})();class n{x;y;constructor(t,e){this.x=t,this.y=e}}class c{position;gridSize;constructor(t){this.gridSize=t,this.position=this.randomPosition()}randomPosition(){return new n(Math.floor(Math.random()*this.gridSize),Math.floor(Math.random()*this.gridSize))}respawn(t){let e;do e=this.randomPosition();while(t.body.some(s=>s.x===e.x&&s.y===e.y));this.position=e}}class l{element;current=0;constructor(){this.element=document.querySelector(".score")}increase(){this.current++}render(){this.element.innerHTML=`üçé Score: ${this.current}`}}class d{body=[];direction=new n(1,0);constructor(t={x:10,y:10},e=2){for(let s=0;s<e;s++)this.body.push(new n(t.x-s,t.y))}move(){const t=this.body[0],e=new n(t.x+this.direction.x,t.y+this.direction.y);this.body.unshift(e),this.body.pop()}grow(){const t=this.body[this.body.length-1];this.body.push(t)}setDirection(t){(this.direction.x+t.x!==0||this.direction.y+t.y!==0)&&(this.direction=t)}isCollidingWithSelf(){const[t,...e]=this.body;return e.some(s=>s.x===t.x&&s.y===t.y)}isCollidingWithWall(t){const e=this.body[0];return e.x<0||e.y<0||e.x>t-1||e.y>t-1}isCollidingWithFood(t){const e=this.body[0];return e.x===t.position.x&&e.y===t.position.y}}class a{context;gridSize=20;tileSize=20;intervalId;snake=new d;food=new c(this.gridSize);score=new l;constructor(t){this.context=t.getContext("2d"),window.addEventListener("keydown",e=>this.handleInput(e)),this.start()}start(){this.intervalId=setInterval(()=>this.update(),100)}stop(){clearInterval(this.intervalId)}handleInput(t){const e={ArrowUp:new n(0,-1),ArrowDown:new n(0,1),ArrowRight:new n(1,0),ArrowLeft:new n(-1,0)};e[t.key]&&this.snake.setDirection(e[t.key])}update(){this.snake.move(),this.checkCollisions(),this.draw()}checkCollisions(){(this.snake.isCollidingWithSelf()||this.snake.isCollidingWithWall(this.gridSize))&&this.stop(),this.snake.isCollidingWithFood(this.food)&&(this.snake.grow(),this.food.respawn(this.snake),this.score.increase())}draw(){this.context.clearRect(0,0,400,400),this.context.fillStyle="#0add51";for(const t of this.snake.body)this.context.fillRect(t.x*this.tileSize,t.y*this.tileSize,this.tileSize,this.tileSize);this.context.fillStyle="#dd230a",this.context.fillRect(this.food.position.x*this.tileSize,this.food.position.y*this.tileSize,this.tileSize,this.tileSize),this.score.render()}}const u=document.querySelector("#canvas");new a(u);
